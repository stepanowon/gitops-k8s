## rolling 배포 테스트
kubectl apply -f rolling.yaml    

kubectl set image deployment/nodeapp-deploy nodeapp=stepanowon/nodeapp:2.0.0  
kubectl annotate deployments.apps nodeapp-deploy kubernetes.io/change-cause="2.0.0"

kubectl describe deploy nodeapp-deploy


## Rollout 히스토리 확인
kubectl set image deployment/nodeapp-deploy nodeapp=stepanowon/nodeapp:3.0.0  
kubectl annotate deployments.apps nodeapp-deploy kubernetes.io/change-cause="3.0.0"

kubectl rollout history deploy nodeapp-deploy  
kubectl rollout history deploy nodeapp-deploy --revision=1


## 특정 revision으로 롤백
kubectl rollout undo deploy nodeapp-deploy --to-revision=1
kubectl rollout history deploy nodeapp-deploy

## 리소스 정리
kubectl delete -f rolling.yaml

-------------------------------




